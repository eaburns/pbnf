\documentclass{article}
\usepackage{fullpage}
\usepackage{algorithmic}

\begin{document}
\begin{itemize}
  \item search($init$, $cores$)
  \begin{algorithmic}[1]
  \STATE create a thread for each core, and hash tables for $open$ and $closed$
  \STATE insert $init$ into $open$ and $closed$
  \STATE current $\leftarrow$ NULL
  \STATE start threadsearch() on each thread
  \WHILE {any thread is still running}
    \STATE NOOP
  \ENDWHILE
  \STATE return $current$
  \end{algorithmic}
  
  \item isfree($n$)
  \begin{algorithmic}[1]
  \STATE return $\sigma$($n$) $== 0$ and $\sigma_h$($n$) $== 0$ and open list of $n$ is not empty
  \end{algorithmic}
  
  \item sethot($n$)
  \begin{algorithmic}[1]
  \IF {$n.hot ==$ false and $\sigma$($n$) $> 0$}
    \STATE $b.hot \leftarrow$ true
    \FOR {each nblock $n'$ in interference scope of $n$}
      \IF {isfree($n'$)}
        \STATE remove $n'$ from free list
      \ENDIF
      \STATE $\sigma_h$($n'$) $\leftarrow \sigma_h$($n'$) $+ 1$
    \ENDFOR
  \ENDIF
  \end{algorithmic}
  
  \item setcold($n$)
  \begin{algorithmic}[1]
  \STATE $b.hot \leftarrow$ false
  \FOR {each nblock $n'$ in interference scope of $n$}
    \STATE $\sigma_h$($n'$) $\leftarrow \sigma_h$($n'$) $- 1$
    \IF {isfree($n'$)}
      \STATE add $n'$ to free list
    \ENDIF
  \ENDFOR
  \end{algorithmic}

  \item shouldswitch($b$)
  \begin{algorithmic}[1]
  \STATE \COMMENT {$m$ is the minumum number of expansions required to balance out locking overhead}
  \IF {$b$ is empty or  $i < m$}
    \STATE return true
  \ELSIF{best node in free list or interference scope is better than best in $b$}
    \STATE return true
  \ELSE
    \FOR {each nblock $b'$ in interference scope of $b$}
      \IF {$b'.hot ==$ true}
        \STATE setcold($b'$)
      \ENDIF
    \ENDFOR
    \STATE return false
  \ENDIF
  \end{algorithmic}

  \item release($b$)
  \begin{algorithmic}[1]
  \STATE decrement $\sigma$ for $b$ and each nblock in its duplicate detection scope
  \end{algorithmic}

  \item nextnblock($b$)
  \begin{algorithmic}[1]
  \IF {$b$ is not NULL}
    \STATE $s \leftarrow$ nblock from interference scope with the best node on its open list
    \IF {the best node in $b$ is better than the best on the free list or in $s$}
      \STATE return $b$
    \ENDIF
    \STATE release($b$)
    \IF {the best node in $s$ is better than the best on free list}
      \STATE sethot($s$)
    \ELSE
      \STATE $s \leftarrow$ NULL
    \ENDIF
  \ENDIF
  \IF {$\sigma == 0$ for all nblocks and free list is empty}
    \STATE $done \leftarrow$ true
    \STATE wake all threads
  \ENDIF
  \WHILE {free list is empty and $done =$ false}
    \STATE sleep on condition for $s$
  \ENDWHILE
  \IF {$done =$ true}
    \STATE $n \leftarrow$ NULL
  \ELSE
    \STATE $n \leftarrow$ best on free list
    \STATE increment $\sigma$ for $n$ and each nblock in its duplicate detection scope
  \ENDIF
  \STATE return $n$
  \end{algorithmic}

  \item threadsearch()
  \begin{algorithmic}[1]
  \WHILE {not $done$}
    \STATE $b \leftarrow$ nextnblock($b$)
    \IF {$b$ is a different nblock than before}
      \STATE $i \leftarrow 0$
    \ENDIF
    \WHILE {not shouldswitch($i$)}
      \STATE $i \leftarrow i+1$
      \STATE $node \leftarrow$ head of $b$'s open list
      \IF{$node$ is a goal}
        \STATE foundgoal($node$)
      \ELSIF {$node$ is not a duplicate}
        \STATE $children \leftarrow$ expand($node$)
        \STATE remove duplicates from $children$
        \STATE insert $children$ into $open$ and $closed$ for the appropriate nblocks
      \ENDIF
    \ENDWHILE
  \ENDWHILE
  \end{algorithmic}

  \item foundgoal($new$):
  \begin{algorithmic}[1]
      \IF{g($new$) $<$ g($current$)}
        \STATE $current \leftarrow new$
        \STATE prune all nodes from $b$ with g values higher than g($current$)
      \ENDIF
  \end{algorithmic}
\end{itemize}
\end{document}